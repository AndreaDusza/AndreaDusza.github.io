{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/**\r\n * Created by Andrea on 2015.08.29..\r\n */\r\nvar markers = new Array();\r\n\r\nfunction clearMarkers() {\r\n    for (var i=0; i<markers.length; i++){\r\n        markers[i].setMap(null);\r\n    }\r\n    markers = new Array();\r\n};\r\n\r\n\r\ngoogle.maps.event.addDomListener(window, 'load', initializeMap);\r\n$(document).ready(function () {\r\n    var housesList = document.getElementById(\"houses-list\");\r\n\r\n    var townListFromJson = [];\r\n    var typeListFromJson = [];\r\n    $.getJSON(\"houses.json\", function (json) {\r\n        var townSetFromJson = new Set();\r\n        var typeSetFromJson = new Set();\r\n        json.forEach(i => {\r\n            var li = document.createElement(\"li\");\r\n            var roomsHtmlPart=\"\";\r\n            if (i.numberOfRooms !== undefined){\r\n                roomsHtmlPart =  \"<p><b>Szobák: </b>\" + i.numberOfRooms + \"</p>\";\r\n            }\r\n            li.innerHTML = (\r\n                `<div class=\"frame\">\r\n                <a href=\"${i.detailsPageUrl}\">\r\n                <img class=\"houseThumbnailInFrontpageList\" src=\"${i.images[0]}\" alt=\"Img\" width=\"418px\" height=\"264px\"></a>\r\n                </div>\r\n                <h5>${i.title}</h5>\r\n                <div class=\"details\">\r\n                <p><b>Alapterület: </b>${i.sizeInSquareMeters} m<sup>2</sup></p>`\r\n                + roomsHtmlPart +\r\n                `</div>\r\n                <span class=\"price\">${i.price}</span>`\r\n            );\r\n            housesList.appendChild(li);\r\n            (i.locationTags).forEach(j => {\r\n                townSetFromJson.add(j);\r\n            });\r\n            typeSetFromJson.add(i.type);\r\n        });\r\n\r\n        townSetFromJson.forEach( k => {\r\n            townListFromJson.push(k);\r\n        });\r\n        typeSetFromJson.forEach( k => {\r\n            typeListFromJson.push(k);\r\n        });\r\n\r\n        var typeSelect = document.getElementById(\"selectEstateType\");\r\n        var option = document.createElement(\"option\");\r\n        option.innerHTML = `<option>bármilyen ingatlan</option>`;\r\n        typeSelect.appendChild(option);\r\n        typeSetFromJson.forEach(i =>{\r\n            var option = document.createElement(\"option\");\r\n            option.innerHTML = `<option>${i}</option>`;\r\n            typeSelect.appendChild(option);\r\n        });\r\n\r\n        $(\"#town-input-1\").select2({\r\n            width: \"300px\",\r\n            placeholder: \"Írja be, hol keres ingatlant\",\r\n            allowClear: true,\r\n            multiple: true,\r\n            maximumSelectionSize: 10,\r\n            data: townListFromJson.map(function (city, index) {\r\n                return {id: index, text: city};\r\n            }),\r\n            formatLoadMore: 'Loading more...',\r\n        });\r\n\r\n    });\r\n\r\n});\r\n\r\nfunction initializeMap() {\r\n    var myCenter = new google.maps.LatLng(47.456589, 18.928657);\r\n    var mapProp = {\r\n        center: myCenter,\r\n        zoom: 7,\r\n        mapTypeId: google.maps.MapTypeId.HYBRID\r\n    };\r\n    var map = new google.maps.Map(document.getElementById(\"googleMap\"), mapProp);\r\n\r\n    $.getJSON(\"houses.json\", function (json) {\r\n        json.forEach(i => {\r\n            var marker = new google.maps.Marker({\r\n                position: new google.maps.LatLng(i.lat, i.lng)\r\n            });\r\n            markers.push(marker);\r\n            marker.setMap(map);\r\n\r\n            var contentString =\r\n                `<div class=\"mapInfoWindow\">\r\n                <a href=\"${i.detailsPageUrl}\"><h1>${i.mostSpecificLocation}</h1></a>\r\n                <div><p><a href=\"${i.detailsPageUrl}\">\r\n                <img class=\"houseThumbnailInMapInfoWindow\" src=\"${i.images[0]}\" alt=\"Img\"></a></p>\r\n                <p>${i.price}</p>\r\n                </div>\r\n                </div>`;\r\n\r\n            var infowindow = new google.maps.InfoWindow({\r\n                content: contentString\r\n            });\r\n\r\n            google.maps.event.addListener(marker, 'click', function () {\r\n                infowindow.open(map, marker);\r\n            });\r\n\r\n        });\r\n    });\r\n}\r\n\r\nfunction refreshListAndMap(){\r\n    clearMarkers();\r\n    var typeSelector = document.getElementById(\"selectEstateType\");\r\n    var selectedType = typeSelector.value;\r\n    console.log(typeSelector);\r\n    console.log(selectedType);\r\n    var selections = $(\"#town-input-1\").select2('data');\r\n    var selectedTowns = [];\r\n    var saleCheckbox = document.getElementById('checkbox_sale');\r\n    var rentCheckbox = document.getElementById('checkbox_rent');\r\n    selections.forEach(i => {\r\n        selectedTowns.push(i.text);\r\n    });\r\n    console.log(selectedTowns);\r\n    var myCenter = new google.maps.LatLng(47.456589, 18.928657);\r\n    var mapProp = {\r\n        center: myCenter,\r\n        zoom: 7,\r\n        mapTypeId: google.maps.MapTypeId.HYBRID\r\n    };\r\n    var map = new google.maps.Map(document.getElementById(\"googleMap\"), mapProp);\r\n    var housesList = document.getElementById(\"houses-list\");\r\n    housesList.innerHTML = \"\";\r\n    $.getJSON(\"houses.json\", function (json) {\r\n        json.forEach(i => {\r\n            if ( ((selectedTowns.length === 0) || ((selectedTowns.filter(function(n) {\r\n                    return (i.locationTags).indexOf(n) >= 0\r\n                }).length > 0)))\r\n            &&\r\n                ((i.type === selectedType) || (selectedType === \"bármilyen ingatlan\"))\r\n            && ((saleCheckbox.checked && i.forSaleOrRent === \"sale\") || (rentCheckbox.checked && i.forSaleOrRent === \"rent\"))\r\n            ) {\r\n                var marker = new google.maps.Marker({\r\n                    position: new google.maps.LatLng(i.lat, i.lng)\r\n                });\r\n                markers.push(marker);\r\n                marker.setMap(map);\r\n\r\n                var contentString =\r\n                    `<div class=\"mapInfoWindow\">\r\n                <a href=\"${i.detailsPageUrl}\"><h1>${i.mostSpecificLocation}</h1></a>\r\n                <div><p><a href=\"${i.detailsPageUrl}\">\r\n                <img class=\"houseThumbnailInMapInfoWindow\" src=\"${i.images[0]}\" alt=\"Img\"></a></p>\r\n                <p>${i.price}</p>\r\n                </div>\r\n                </div>`;\r\n\r\n                var infowindow = new google.maps.InfoWindow({\r\n                    content: contentString\r\n                });\r\n\r\n                google.maps.event.addListener(marker, 'click', function () {\r\n                    infowindow.open(map, marker);\r\n                });\r\n\r\n\r\n                var li = document.createElement(\"li\");\r\n                var roomsHtmlPart=\"\";\r\n                if (i.numberOfRooms !== undefined){\r\n                    roomsHtmlPart =  \"<p><b>Szobák: </b>\" + i.numberOfRooms + \"</p>\";\r\n                }\r\n                li.innerHTML = (\r\n                    `<div class=\"frame\">\r\n                <a href=\"${i.detailsPageUrl}\">\r\n                <img class=\"houseThumbnailInFrontpageList\" src=\"${i.images[0]}\" alt=\"Img\" width=\"418px\" height=\"264px\"></a>\r\n                </div>\r\n                <h5>${i.title}</h5>\r\n                <div class=\"details\">\r\n                <p><b>Alapterület: </b>${i.sizeInSquareMeters} m<sup>2</sup></p>`\r\n                    + roomsHtmlPart +\r\n                    `</div>\r\n                <span class=\"price\">${i.price}</span>`\r\n                );\r\n                housesList.appendChild(li);\r\n            }\r\n\r\n        });\r\n    });\r\n}\r\n\r\n\r\n"]}